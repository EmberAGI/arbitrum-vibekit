# CI-safe defaults for integration/e2e tests.
# Copy this file to `.env.test` to override locally (file is gitignored).

# Onchain-actions API endpoint used by the agent runtime and tests.
ONCHAIN_ACTIONS_API_URL=http://localhost:50051

# Allora API (agent is the only component that talks to Allora directly).
ALLORA_API_BASE_URL=https://api.allora.network
# ALLORA_API_KEY=
# ALLORA_CHAIN_ID=ethereum-11155111
#
# Allora topic whitelist enforced in agent config (`src/config/constants.ts`):
# - TOPIC 1:  BTC/USD - Log-Return - 8h
# - TOPIC 3:  SOL/USD - Log-Return - 8h
# - TOPIC 14: BTC/USD - Price - 8h
# - TOPIC 19: NEAR/USD - Log-Return - 8h
# - TOPIC 2:  ETH/USD - Log-Return - 24h
# - TOPIC 16: ETH/USD - Log-Return - 24h
# - TOPIC 2:  ETH/USD - Log-Return - 8h
# - TOPIC 17: SOL/USD - Log-Return - 24h
# - TOPIC 10: SOL/USD - Price - 8h

# Allora inference cache TTLs (ms). Set to 0 to disable caching (useful in tests).
# ALLORA_INFERENCE_CACHE_TTL_MS=0
# ALLORA_8H_INFERENCE_CACHE_TTL_MS=0

# GMX agent runtime controls (optional).
# GMX_ALLORA_MODE=debug  # default is production
# GMX_ALLORA_POLL_INTERVAL_MS=1800000
# GMX_ALLORA_STREAM_LIMIT=-1
# GMX_ALLORA_STATE_HISTORY_LIMIT=100

# Agent wallet (delegatee).
# If GMX_ALLORA_AGENT_WALLET_ADDRESS is not set, it will be derived from A2A_TEST_AGENT_NODE_PRIVATE_KEY.
# GMX_ALLORA_AGENT_WALLET_ADDRESS=0x0000000000000000000000000000000000000000

# Transaction submission mode (tests default to plan-building).
GMX_ALLORA_TX_SUBMISSION_MODE=plan
# A2A_TEST_AGENT_NODE_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000

# RPC used when transaction broadcasting is enabled.
# ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc

# Smoke/E2E helpers.
# Used by tests/smoke/gmx-allora-smoke.ts and apps/web/tests/gmxAllora.system.e2e.test.ts.
SMOKE_WALLET=0x0000000000000000000000000000000000000001
# Optional profile for web-driven E2E:
# - mocked: enable agent-local MSW interceptors for Allora + onchain-actions.
# - live: disable interceptors and use real HTTP providers.
# E2E_PROFILE=mocked
# When DELEGATIONS_BYPASS=false and GMX_ALLORA_TX_SUBMISSION_MODE=execute, smoke runs need a delegator key
# to sign delegations that the agent wallet can redeem.
# SMOKE_DELEGATOR_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
# SMOKE_USDC_ADDRESS=0x0000000000000000000000000000000000000000

# LangGraph API runner config (optional; used by src/cronApiRunner.ts).
# LANGGRAPH_DEPLOYMENT_URL=http://localhost:8126
# LANGGRAPH_GRAPH_ID=agent-gmx-allora
# STARTER_THREAD_ID=
# STARTER_CRON_INTERVAL_MS=5000
# STARTER_CRON_EXPRESSION=*/5 * * * * *

# Optional: override where the agent looks for config/service.json.
# AGENT_CONFIG_DIR=/absolute/path/to/config/dir
